<ng-template #modal let-modal>
  <div class="modal-header">
    <h4 class="text-primary modal-title">
      Lista de <strong>APU</strong> registrados
    </h4>
    <button
      type="button"
      class="btn btn-sm btn-flash-border-primary ri-close-fill"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <ng-container *ngIf="apus.length && !loading; else notData">
      <div class="rounded-top table-responsive">
        <table
          class="table table-bordered table-striped table-sm"
          
        >
          <thead class="bg-light">
            <tr class="text-center text-uppercase">
              <th><i class="fas fa-check"></i></th>
              <th>Tipo</th>
              <th>F. Creaci√≥n</th>
              <th>Nombre</th>
              <th>Cliente</th>
              <th>Destino</th>
              <th>Linea</th>
              <th>Costo unitario</th>
              <th><i class="fas fa-eye"></i></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let apu of apus" class="text-center">
              <td class="align-middle">
                <input
                  type="checkbox"
                  [checked]="apu.selected"
                  (change)="setState(apu)"
                />
              </td>
              <td class="align-middle">{{ apu.type_name }}</td>
              <td class="align-middle">{{ apu.created_at | date }}</td>
              <td class="align-middle">{{ apu.name }}</td>
              <td class="align-middle">{{ apu.custumer }}</td>
              <td class="align-middle">{{ apu.city }}</td>
              <td class="align-middle">{{ apu.line }}</td>
              <td class="align-middle">{{ apu.unit_cost | currency: "COP" }}</td>
              <td class="align-middle">
                <span>
                  <a
                    role="button"
                    class="text-info"
                    (click)="openNewTab(apu.type, apu.apu_id)"
                  >
                    <i class="fas fa-eye"></i>
                  </a>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-container>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-default"
      (click)="modal.dismiss('Cross click')"
    >
      Cancelar
    </button>
    <button type="button" (click)="send()" class="btn btn-primary">
      Agregar
    </button>
  </div>
</ng-template>

<ng-template #notData>
  <app-not-data
    [loading]="loading"
    [text]="'No hay resultados de APU'"
  ></app-not-data>
</ng-template>
