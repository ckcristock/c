<form [formGroup]="formCompany" (ngSubmit)="save()">
  <div class="row">
    <mat-form-field appearance="outline" class="col">
      <mat-label>Empresa</mat-label>
      <mat-select formControlName="company_id" required>
        <mat-option *ngFor="let item of companies" [value]="item.value">
          {{ item.text }}
        </mat-option>
      </mat-select>
      <mat-icon matSuffix>store</mat-icon>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="col">
      <mat-label>Grupo</mat-label>
      <mat-select
        formControlName="group_id"
        (selectionChange)="getDependencies($event.value)"
        required
      >
        <mat-option *ngFor="let item of groups" [value]="item.value">{{
          item.text
        }}</mat-option>
      </mat-select>
      <mat-icon matSuffix>groups</mat-icon>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="col">
      <mat-label>Dependencia</mat-label>
      <mat-select
        formControlName="dependency_id"
        (selectionChange)="getPositions($event.value)"
        required
      >
        <mat-option *ngFor="let item of dependencies" [value]="item.value">{{
          item.text
        }}</mat-option>
      </mat-select>
      <mat-icon matSuffix>groups</mat-icon>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="col">
      <mat-label>Cargo</mat-label>
      <mat-select formControlName="position_id" required>
        <mat-option *ngFor="let item of positions" [value]="item.value">{{
          item.text
        }}</mat-option>
      </mat-select>
      <mat-icon matSuffix>groups</mat-icon>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Salario</mat-label>
      <input
        matInput
        type="number"
        placeholder="Ingresa el salario"
        formControlName="salary"
        required
        autocomplete="off"
      />
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Fecha de ingreso</mat-label>
      <input
        matInput
        type="date"
        formControlName="date_of_admission"
        required
      />
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Término</mat-label>
      <mat-select
        formControlName="work_contract_type_id"
        (selectionChange)="getContractTerms($event.value)"
        required
      >
        <mat-option
          *ngFor="let item of workContractTypes"
          [value]="item.id"
          (click)="workContractTypesChanged(item.conclude)"
          >{{ item.name }}</mat-option
        >
      </mat-select>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Tipo de contrato</mat-label>
      <mat-select formControlName="contract_term_id" required>
        <mat-option *ngFor="let item of contractTerms" [value]="item.id">{{
          item.name
        }}</mat-option>
      </mat-select>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline" *ngIf="conludeContract">
      <mat-label>Fecha de retiro</mat-label>
      <input matInput type="date" formControlName="date_end" required />
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col-4" appearance="outline">
      <mat-label>Tipo de turno</mat-label>
      <mat-select
        formControlName="turn_type"
        (selectionChange)="turnChanged($event.value)"
        required
      >
        <mat-option [value]="turn.value" *ngFor="let turn of turnos">
          {{ turn.text }}
        </mat-option>
      </mat-select>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field class="col-5" appearance="outline">
      <mat-label>Turno asignado</mat-label>
      <mat-select formControlName="fixed_turn_id" required>
        <mat-option [value]="turn.value" *ngFor="let turn of fixedTurns">
          {{ turn.text }}
        </mat-option>
      </mat-select>
      <mat-error>Campo obligatorio</mat-error>
    </mat-form-field>
    <mat-checkbox
      class="col-3 mt-2"
      color="primary"
      formControlName="transport_assistance"
      ><small> ¿Pagar auxilio de transporte?</small></mat-checkbox
    >

    <div class="col-12">
      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-sm btn-primary" (click)="previus()">Anterior</button>
        <button type="submit" class="btn btn-sm btn-primary">Siguiente</button>
      </div>
    </div>
  </div>
</form>

<app-reload-button
  [reload]="reload"
  (reloadData)="reloadData()"
></app-reload-button>
<!--
      <div class="form-group row">
        <label
          for="jefe "
          class="col-md-4 col-form-label custom-label text-right"
          >Jefe Directo</label
        >
        <select
          name="turno_fijo_id "
          class="form-control custom-control col-md-7"
        >
          <option
            [value]="dependency.id"
            *ngFor="let dependency of dependencies"
          >
            {{ dependency.name }}
          </option>
        </select>

        <div class="col-md-12 text-center">
          <small class="invalid"></small>
        </div>
      </div>-->
