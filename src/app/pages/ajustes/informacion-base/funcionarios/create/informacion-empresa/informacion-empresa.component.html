<form [formGroup]="formCompany" (ngSubmit)="save()">
  <div class="row">
    <mat-form-field appearance="outline" class="col">
      <mat-label>Empresa</mat-label>
      <mat-select formControlName="company_id">
        <mat-option *ngFor="let item of companies" [value]="item.value">
          {{ item.text }}
        </mat-option>
      </mat-select>
      <mat-icon matSuffix>store</mat-icon>
      <mat-error *ngIf="company_id_invalid"> Empresa es obligatorio </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="col">
      <mat-label>Grupo</mat-label>
      <mat-select
        formControlName="group_id"
        (selectionChange)="getDependencies($event.value)"
      >
        <mat-option *ngFor="let item of groups" [value]="item.value">{{
          item.text
        }}</mat-option>
      </mat-select>
      <mat-icon matSuffix>groups</mat-icon>
      <mat-error *ngIf="group_id_invalid"> Grupo es obligatorio </mat-error>
    </mat-form-field>
    <div class="col-md-3" [ngClass]="dependency_id_invalid ? 'mb-0' : 'mb-4'">
      <ng-select
        appearance="outline"
        [appendTo]="'body'"
        placeholder="Dependencia"
        formControlName="dependency_id"
        (change)="getPositions($event.value)"
        [items]="dependencies"
        bindLabel="text"
        bindValue="value"
        loadingText="loading"
        ngDefaultControl
      >
      </ng-select>
      <span class="ml-2" *ngIf="dependency_id_invalid">
        <small class="text-danger"><b> Es nesaria la dependencia </b></small>
      </span>
    </div>
    <div class="col-md-3" [ngClass]="position_id_invalid ? 'mb-0' : 'mb-4'">
      <ng-select
        appearance="outline"
        [appendTo]="'body'"
        placeholder="Cargo"
        formControlName="position_id"
        [items]="positions"
        bindLabel="text"
        bindValue="value"
        loadingText="loading"
        ngDefaultControl
      >
      </ng-select>
      <span class="ml-2" *ngIf="position_id_invalid">
        <small class="text-danger"> <b> Es nesario el cargo</b> </small>
      </span>
    </div>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Salario</mat-label>
      <input
        matInput
        type="number"
        placeholder="Ingresa el salario"
        formControlName="salary"
        autocomplete="off"
      />
      <mat-error *ngIf="salary_invalid"> Salario obligatorio </mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Fecha de ingreso</mat-label>
      <input matInput type="date" formControlName="date_of_admission" />
      <mat-error *ngIf="date_of_admission_invalid">
        Fecha obligatoria
      </mat-error>
    </mat-form-field>
    <div
      class="col-md-3"
      [ngClass]="work_contract_type_id_invalid ? 'mb-0' : 'mb-0'"
    >
      <ng-select
        appearance="outline"
        [appendTo]="'body'"
        placeholder="Tipo de contrato"
        formControlName="work_contract_type_id"
        [items]="workContractTypes"
        bindLabel="text"
        bindValue="value"
        loadingText="loading"
        (change)="workContractTypesChanged($event.conclude)"
        ngDefaultControl
      >
      </ng-select>
      <span class="ml-2">
        <small class="text-danger" *ngIf="work_contract_type_id_invalid">
          <b>Es nesario el tipo de contrato</b>
        </small>
      </span>
    </div>
    <mat-form-field class="col" appearance="outline" *ngIf="conludeContract">
      <mat-label>Fecha de retiro</mat-label>
      <input matInput type="date" formControlName="date_end" />
      <mat-error *ngIf="date_end_invalid"> Fecha obligatoria </mat-error>
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>Tipo de turno</mat-label>
      <mat-select
        formControlName="turn_type"
        (selectionChange)="turnChanged($event.value)"
      >
        <mat-option [value]="turn.value" *ngFor="let turn of turnos">
          {{ turn.text }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="turn_type_invalid"> Tipo obligatorio </mat-error>
    </mat-form-field>
    <div
      class="col-md-3"
      [ngClass]="fixed_turn_id_invalid ? 'mb-0' : 'mb-4'"
      *ngIf="turnSelected == 'Fijo'"
    >
      <ng-select
        appearance="outline"
        [appendTo]="'body'"
        placeholder="Turno asignado"
        formControlName="fixed_turn_id"
        [items]="fixedTurns"
        bindLabel="text"
        bindValue="value"
        loadingText="loading"
        ngDefaultControl
      >
      </ng-select>
      <span class="ml-2">
        <small class="text-danger" *ngIf="fixed_turn_id_invalid">
          <b> Es nesario el turno</b>
        </small>
      </span>
    </div>
    <div class="col-12">
      <div class="d-flex justify-content-between">
        <button
          type="button"
          class="btn btn-lg btn-primary"
          (click)="previus()"
        >
          Anterior
        </button>
        <button type="submit" class="btn btn-lg btn-primary">Siguiente</button>
      </div>
    </div>
  </div>
</form>
<!--
      <div class="form-group row">
        <label
          for="jefe "
          class="col-md-4 col-form-label custom-label text-right"
          >Jefe Directo</label
        >
        <select
          name="turno_fijo_id "
          class="form-control custom-control col-md-7"
        >
          <option
            [value]="dependency.id"
            *ngFor="let dependency of dependencies"
          >
            {{ dependency.name }}
          </option>
        </select>

        <div class="col-md-12 text-center">
          <small class="invalid"></small>
        </div>
      </div>-->
