<div class="card-body">
    <div class="card-title">
        <div class="row">
            <div class="col-6">
                <h5>Datos Básicos</h5>
            </div>
            <div class="col-6">
                <button class="btn btn-link pt-0 edit" style="float: right;" (click)="openModal()">
                    <i class="fas fa-pencil-alt"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="row">
        <p class="col-6 text-right font-weight-bold text-mute item-subtitle">
            Nombre completo
        </p>
        <p class="col-6 text font-weight-bold">
            {{ funcionario.first_name }} {{ funcionario.second_name }} {{ funcionario.first_surname }} {{ funcionario.second_surname }}
        </p>
        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Documento de identidad
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.identifier }}
        </p>
        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Correo electrónico
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.email }}
        </p>

        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Título de estudio
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.degree }}
        </p>

        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Fecha de nacimiento
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.date_of_birth }}
        </p>
        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Género
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.gener }}
        </p>

        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Estado civil
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.marital_status }}
        </p>
        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Dirección de residencia
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.address }}
        </p>
        <p class="col-6 font-weight-bold text-mute item-subtitle">
            Celular
        </p>
        <p class="col-6 font-weight-bold">
            {{ funcionario.cell_phone }}
        </p>
    </div>
</div>

<app-modal-basic #modal [dialogClass]="'modal-xl'">
    <div class="app-modal-header">
        <h5 class="modal-title"> Actualizar funcionario </h5>
        <button type="button" class="close basic-close" (click)="modal.hide()">
          <span aria-hidden="true">
            <i class="fas fa-times" (click)="modal.hide()"></i>
          </span>
        </button>
    </div>
    <div class="app-modal-body">
        <div class="row mt-3">
            <div class="col-12">
                <form [formGroup]="form">
                    <div class="form-row mt-3">
                        <div class="form-group col-md-2 text-center">
                            <img [src]=" funcionario.name | image" class="img-rounded d-block m-auto" alt="">
                            <label for="image" class="subir-archivo mt-3">Cargar imagen</label>
                            <input type="file" name="image" class="form-control-file" id="image" formControlName="image" (change)="onFileChanged($event)" [class.is-invalid]="image_valid" placeholder="Imagen" />

                            <div class="text-center text-danger" *ngIf="image_valid">
                                <small class="invalid">La imagen es necesaria</small>
                            </div>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="form-group row">
                                <label for="first_name" class="col-md-4 col-form-label custom-label text-right">Primer nombre</label>
                                <input type="text" placeholder="" id="first_name" [class.is-invalid]="first_name_valid" [(ngModel)]="funcionario.first_name" formControlName="first_name" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="first_name_valid"> Los nombres son necesarios
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="second_name" class="col-md-4 col-form-label custom-label text-right">Segundo nombre</label>
                                <input type="text" placeholder="" id="second_name" [class.is-invalid]="second_name_valid" [(ngModel)]="funcionario.second_name" formControlName="second_name" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="second_name_valid"> Los nombres son necesarios
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="first_surname" class="col-md-4 col-form-label custom-label text-right">Primer apellido</label>
                                <input type="text" placeholder="" id="first_surname" [class.is-invalid]="first_surname_valid" [(ngModel)]="funcionario.first_surname" formControlName="first_surname" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="first_surname_valid"> Los nombres son necesarios
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="second_surname" class="col-md-4 col-form-label custom-label text-right">Segundo apellido</label>
                                <input type="text" placeholder="" id="second_surname" [class.is-invalid]="second_surname_valid" [(ngModel)]="funcionario.second_surname" formControlName="second_surname" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="second_surname_valid"> Los apellidos son necesarios
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="identifier" class="col-md-4 col-form-label custom-label text-right">Documento de identidad</label>
                                <input type="number" placeholder="" [class.is-invalid]="identifier_valid" [(ngModel)]="funcionario.identifier" formControlName="identifier" name="identifier" id="identifier" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="identifier_valid"> Es necesario el documento
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="address" class="col-md-4 col-form-label custom-label text-right">Dirección de residencia</label>
                                <input type="text" [class.is-invalid]="address_valid" [(ngModel)]="funcionario.address" id="address" formControlName="address" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="address_valid"> Es necesario la dirección
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label for="date_of_birth" class="col-md-4 col-form-label custom-label text-right">Fecha de nacimiento</label>
                                <input type="date" [class.is-invalid]="date_of_birth_valid" [(ngModel)]="funcionario.date_of_birth" id="date_of_birth" formControlName="date_of_birth" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="date_of_birth_valid"> Es necesario la fecha de nacimiento
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="degree" class="col-md-4 col-form-label custom-label text-right">Titulo de estudio</label>
                                <select [class.is-invalid]="degree_valid" id="degree" [(ngModel)]="funcionario.degree" formControlName="degree" class="form-select form-control custom-control col-md-7">
                                    <option *ngFor="let degree of degrees" [value]="degree.valor">
                                        {{ degree.clave }}
                                    </option>
                                </select>
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="degree_valid"> Es necesario el titulo de estudio
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="email" class="col-md-4 col-form-label custom-label text-right">Email</label>
                                <input type="email" placeholder="" id="email" [class.is-invalid]="email_valid" [(ngModel)]="funcionario.email" formControlName="email" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="email_valid"> Es necesario el email
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-4 custom-label col-form-label text-right" for="gener">Género</label>
                                <select [class.is-invalid]="gener_valid" id="gener" [(ngModel)]="funcionario.gener" formControlName="gener" class="form-select form-control custom-control col-md-7">
                                    <option selected value="Masculino">Masculino</option>
                                    <option value="Femenino">Femenino</option>
                                </select>
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="gener_valid"> Es necesario el género
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-4 custom-label col-form-label text-right" for="marital_status">Estado civil</label>
                                <select [class.is-invalid]="marital_status_valid" id="marital_status" [(ngModel)]="funcionario.marital_status" formControlName="marital_status" class="form-select form-control custom-control col-md-7">
                                    <option *ngFor="let estado of estados" [value]="estado.valor">
                                        {{ estado.clave }}
                                    </option>
                                </select>
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="marital_status_valid"> Es necesario el estado civil
                                    </small>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="cell_phone" class="col-md-4 col-form-label custom-label text-right">Celular</label>
                                <input type="number" id="cell_phone" [class.is-invalid]="cell_phone_valid" [(ngModel)]="funcionario.cell_phone" formControlName="cell_phone" class="form-control custom-control col-md-7">
                                <div class="col-md-7 offset-4">
                                    <small class="invalid text-danger" *ngIf="cell_phone_valid"> Es necesario el número de celular
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="app-modal-footer">
        <div class="form-group text-right">
            <button (click)="modal.hide()" type="button" class="btn btn-danger raised mr-2 btn-sm">Cerrar</button>
            <button type="submit" class="btn btn-primary btn-sm raised" (click)="guardar()">Actualizar</button>
        </div>
    </div>
</app-modal-basic>