<div class="row">
    <div class="col-md-10 mx-auto">
        <div class="card">
            <div class="card-body">
                <div class="card-title d-flex justify-content-between">
                    <img src="assets/images/logo2.png" alt="" height="45" />
                    <h4 class="text-primary">
                        <app-cabecera [datosCabecera]="datosCabecera"></app-cabecera>
                    </h4>
                </div>
                <hr class="line">
                <div class="container mt-4">
                    <div class="row">
                        <div class="col-10 mx-auto">
                            <form #FormFiltros="ngForm">
                                <div class="form-group row">
                                    <label for="Fecha_Inicial" class="col-sm-4 col-form-label">Fecha Inicial</label>
                                    <div class="col-sm-8">
                                        <input type="date" class="form-control" (change)="setQueryParams()"
                                            [(ngModel)]="MovimientoGlobalizadoModel.Fecha_Inicial" name="Fecha_Inicial"
                                            id="Fecha_Inicial" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Fecha_Corte" class="col-sm-4 col-form-label">Fecha Corte</label>
                                    <div class="col-sm-8">
                                        <input type="date" class="form-control" (change)="setQueryParams()"
                                            [(ngModel)]="MovimientoGlobalizadoModel.Fecha_Corte" name="Fecha_Corte"
                                            id="Fecha_Corte" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Fuente" class="col-sm-4 col-form-label">Fuente</label>
                                    <div class="col-sm-8">
                                        <select name="Fuente" id="Fuente"
                                            [(ngModel)]="MovimientoGlobalizadoModel.Fuente" class="form-control"
                                            (change)="setQueryParams()" required>
                                            <option value="">Ninguno</option>
                                            <option *ngFor="let item of listaTiposDocumentos" [value]="item.Id_Modulo">
                                                {{
                                                item.Documento }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Nit" class="col-sm-4 col-form-label">NIT</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" name="Nit"
                                            (change)="AsignarTercero(TerceroSeleccionado)"
                                            [(ngModel)]="TerceroSeleccionado" type="text" placeholder="Nombre o Nit"
                                            [ngbTypeahead]="search_tercero" [resultTemplate]="rt_tercero"
                                            [inputFormatter]="formatter_tercero">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Estado" class="col-sm-4 col-form-label">Estado</label>
                                    <div class="col-sm-8">
                                        <select name="Estado" id="Estado" (change)="setQueryParams()"
                                            [(ngModel)]="MovimientoGlobalizadoModel.Estado"
                                            class="form-control">
                                            <option value="">Todos</option>
                                            <option value="Activo">Activo</option>
                                            <option value="Anulado">Inactivo</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12 d-flex justify-content-center">
                            <button class="btn btn-primary btn-lg" target="_blank" (click)="generarReporte()"><i
                                class="fa fa-file-text"></i> Generar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #rt1 let-r="result" let-t="term">
    <span class="f-9">{{ r.Codigo }} </span>
</ng-template>
<ng-template #rt_tercero let-r="result" let-t="term">
    <span class="f-9">
        {{r.Nombre_Tercero}}
    </span>
</ng-template>