<div class="row">
    <div class="col-md-10 mx-auto">
        <div class="card">
            <div class="card-body">
                <div class="card-title d-flex justify-content-between">
                    <img src="assets/images/logo2.png" alt="" height="45" />
                    <h4 class="text-primary">
                        <app-cabecera [datosCabecera]="datosCabecera"></app-cabecera>
                    </h4>
                </div>
                <hr class="line">
                <div class="container mt-4">
                    <div class="row">
                        <div class="col-10 mx-auto">
                            <form #FormFiltros="ngForm">
                                <div class="form-group row">
                                    <label for="Fecha_Inicial" class="col-sm-4 col-form-label">Fecha Inicial</label>
                                    <div class="col-sm-8">
                                        <input type="date" class="form-control"
                                            [(ngModel)]="EstResultadoModel.Fecha_Inicial" name="Fecha_Inicial"
                                            id="Fecha_Inicial" (change)="setQueryParams()" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Fecha_Corte" class="col-sm-4 col-form-label">Fecha Corte</label>
                                    <div class="col-sm-8">
                                        <input type="date" class="form-control"
                                            [(ngModel)]="EstResultadoModel.Fecha_Final" name="Fecha_Corte"
                                            id="Fecha_Corte" (change)="setQueryParams()" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Discriminado" class="col-sm-4 col-form-label">Tipo Reporte</label>
                                    <div class="col-sm-8">
                                        <select name="Discriminado" id="Discriminado"
                                            [(ngModel)]="EstResultadoModel.Tipo" class="form-control"
                                            (change)="setQueryParams()" required>
                                            <option value="">Seleccione</option>
                                            <option value="Pcga">Pcga</option>
                                            <option value="Niif">Niif</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Nivel" class="col-sm-4 col-form-label">Nivel</label>
                                    <div class="col-sm-8">
                                        <select name="Nivel" id="Nivel" [(ngModel)]="EstResultadoModel.Nivel"
                                            class="form-control" (change)="setQueryParams()">
                                            <option value="">Seleccione</option>
                                            <option *ngFor="let Nivel of Niveles" [value]="Nivel">{{ Nivel }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="Centro_Costo" class="col-sm-4 col-form-label">Centro Costo</label>
                                    <div class="col-sm-8">
                                        <ng-select id="Centro_Costo" class="custom" name="Centro_Costo"
                                            [(ngModel)]="EstResultadoModel.Centro_Costo"
                                            placeholder="Seleccione el centro costo" [items]="Centro_Costos"
                                            (ngModelChange)="setQueryParams()"></ng-select>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12 d-flex justify-content-center">
                            <div class="btn-group" role="group" aria-label="Vertical button group">
                                <a class="btn btn-danger btn-lg"
                                    href="{{ envirom.ruta }}php/contabilidad/estadoresultado/descarga_pdf.php?{{queryParams}}"
                                    role="button" target="_blank"><i class="fas fa-file-pdf"></i> PDF</a>
                                <a class="btn btn-primary btn-lg" 
                                    href="{{ envirom.ruta }}php/contabilidad/estadoresultado/descarga_excel.php?{{queryParams}}"
                                    role="button" target="_blank"><i class="fas fa-file-excel"></i> EXCEL</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #rt1 let-r="result" let-t="term">
    <span class="f-9">{{ r.Codigo }} </span>
</ng-template>