<ng-container *ngIf="!loading; else notDataL">
  <form [formGroup]="form">
    <div class="card">
      <div class="card-body">
        <app-cabecera [datosCabecera]="datosCabecera"></app-cabecera>
        <hr class="line" />
        <div class="row">
          <mat-form-field class="col-md-3" appearance="outline">
            <mat-label>Nombre</mat-label>
            <input
              matInput
              type="text"
              placeholder="Ingresa el nombre"
              formControlName="name"
              required
            />
          </mat-form-field>
          <div class="col-md-3 mat-form-field-wrapper">
            <ng-select
              formControlName="city_id"
              [items]="cities"
              bindLabel="text"
              appearance="outline"
              [appendTo]="'body'"
              placeholder="Destino *"
              bindValue="value"
              loadingText="loading"
              ngDefaultControl
            >
            </ng-select>
          </div>
          <div class="col-md-3 mat-form-field-wrapper">
            <ng-select
              formControlName="third_party_id"
              [items]="clients"
              bindLabel="text"
              appearance="outline"
              [appendTo]="'body'"
              placeholder="Cliente *"
              bindValue="value"
              loadingText="loading"
              ngDefaultControl
            >
            </ng-select>
          </div>
          <mat-form-field class="col-md-3" appearance="outline">
            <mat-label>Línea</mat-label>
            <input
              matInput
              type="text"
              placeholder="Ingresa la línea"
              formControlName="line"
              required
            />
          </mat-form-field>
          <mat-form-field
            class="col-md-12 mat-form-field-no-padding textarea"
            appearance="outline"
          >
            <mat-label>Observaciones</mat-label>
            <textarea
              matInput
              placeholder="Ingrese las observaciones"
              rows="5"
              required
              formControlName="observation"
              [cdkTextareaAutosize]="true"
            ></textarea>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <h5 class="mt-2 text-center">Validación dimensional</h5>
        <hr class="line" />
        <div class="row card-title d-flex justify-content-between">
          <div class="col-md-6 px-0">
            <h6>Cálculo de mano de obra</h6>
          </div>
          <div class="col-md-6 px-0 text-right">
            <div class="btn-group w-sm-100">
              <button
                class="btn btn-primary btn-sm"
                (click)="newCmoList()"
                type="button"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
        </div>
        <ng-container *ngIf="cmoList.controls.length; else notData">
          <div class="rounded-top table-responsive">
            <table class="table table-bordered table-striped table-sm">
              <thead>
                <tr class="table-primary">
                  <th class="text-center" colspan="4"></th>
                  <th class="text-center" colspan="5" class="text-center">
                    Desplazamiento
                  </th>
                  <th class="text-center" colspan="5" class="text-center">
                    Ordinarias
                  </th>
                  <th class="text-center" colspan="6" class="text-center">
                    Festivas
                  </th>
                  <th></th>
                </tr>
              </thead>
              <thead class="bg-light">
                <tr class="text-center text-uppercase">
                  <th class="align-middle">Item</th>
                  <th class="align-middle">Perfil</th>
                  <th class="align-middle">Tipo Desplaza</th>
                  <th class="align-middle">N. Persona</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Horas</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Hora</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Hora</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">Valor Salarial</th>
                  <th><i class="mdi mdi-chevron-down"></i></th>
                </tr>
              </thead>
              <ng-container formArrayName="calculate_labor">
                <ng-container
                  *ngFor="let item of cmoList.controls; let i = index"
                >
                  <ng-container [formGroupName]="i">
                    <tbody>
                      <tr class="text-center">
                        <td>
                          {{ i + 1 }}
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="apu_profile_id"
                          >
                            <option
                              *ngFor="let item of profiles"
                              [value]="item.id"
                            >
                              {{ item.profile }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="displacement_type"
                          >
                            <option
                              *ngFor="let item of desplazamientos"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="people_number"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_displacement"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="workind_day_displacement"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_ordinary"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="working_day_ordinary"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_festive"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="working_day_festive"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="salary_value"
                          />
                        </td>
                        <td>
                          <div class="btn-group">
                            <button
                              class="btn btn-outline-success btn-sm"
                              placement="top"
                              type="button"
                              ngbTooltip="Est. Viáticos"
                              (click)="collapsed[i] = !collapsed[i]"
                              [attr.aria-expanded]="!collapsed"
                              aria-controls="collapseExample2"
                            >
                              <i class="fas fa-eye"></i>
                            </button>
                            <button
                              class="btn btn-outline-danger btn-sm"
                              type="button"
                              (click)="deleteCmoList(i)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </button>
                          </div>
                        </td>
                      </tr>
                      <tr *ngIf="collapsed[i]">
                        <td colspan="21">
                          <div class="rounded-top table-responsive">
                            <table
                              [ngbCollapse]="!collapsed[i]"
                              class="w-100 table table-bordered table-striped table-sm"
                            >
                              <thead>
                                <tr class="table-primary">
                                  <th class="text-center">Perfil</th>
                                  <th colspan="4" class="text-center">
                                    Viáticos
                                  </th>
                                  <th></th>
                                </tr>
                              </thead>
                              <thead class="bg-light">
                                <tr class="text-center text-uppercase">
                                  <th colspan="2">Descripción</th>
                                  <th>Unidad</th>
                                  <th>Cantidad</th>
                                  <th>Valor Unitario</th>
                                  <th>Valor Total</th>
                                </tr>
                              </thead>
                              <tbody formArrayName="viatic_estimation">
                                <ng-container
                                  *ngFor="
                                    let item of item['controls'][
                                      'viatic_estimation'
                                    ]['controls'];
                                    let j = index
                                  "
                                >
                                  <tr [formGroupName]="j">
                                    <td colspan="2">
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="description"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="unit"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="number"
                                        class="form-control form-control-sm"
                                        formControlName="amount"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="number"
                                        readonly
                                        class="form-control form-control-sm"
                                        formControlName="unit_value"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="number"
                                        class="form-control form-control-sm"
                                        formControlName="total_value"
                                      />
                                    </td>
                                  </tr>
                                </ng-container>
                              </tbody>
                              <tfoot>
                                <tr>
                                  <td
                                    colspan="5"
                                    class="text-right text-uppercase"
                                  >
                                    <label><b>Subtotal</b></label>
                                  </td>
                                  <td colspan="6" class="text-center">
                                    <input
                                      type="number"
                                      class="form-control form-control-sm"
                                      formControlName="subtotal"
                                    />
                                  </td>
                                </tr>
                              </tfoot>
                            </table>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </ng-container>
                </ng-container>
              </ng-container>
            </table>
          </div>
        </ng-container>
        <ng-container *ngIf="cmoList.controls.length">
          <div class="row d-flex justify-content-end">
            <div class="col-md-6">
              <div class="d-flex justify-content-between">
                <div class="rounded-top table-responsive">
                  <table class="table table-hover">
                    <tbody>
                      <tr>
                        <td>SUBTOTAL MANO DE OBRA</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_labor").value
                              | currency : "" : ""
                          }}
                        </td>
                      </tr>
                      <tr>
                        <td>SUBTOTAL VIÁTICOS</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_travel_expense").value
                              | currency : "" : ""
                          }}
                        </td>
                      </tr>
                      <tr>
                        <td>SUBTOTAL VALID DIMENSIONAL</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_dimensional_validation")
                              .value | currency : "" : ""
                          }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <h5 class="text-center">Montaje y puesta en marcha</h5>
        <hr class="line" />
        <div class="row card-title d-flex justify-content-between">
          <div class="col-md-6 px-0">
            <h6>Cálculo de mano de obra</h6>
          </div>
          <div class="col-md-6 px-0 text-right">
            <div class="btn-group w-sm-100">
              <button
                class="btn btn-primary btn-sm"
                type="button"
                (click)="newmpMCalculateLaborList()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
        </div>
        <ng-container
          *ngIf="mpMCalculateLaborList.controls.length; else notData"
        >
          <div class="rounded-top table-responsive">
            <table class="table table-bordered table-striped table-sm">
              <thead>
                <tr class="table-primary">
                  <th colspan="4"></th>
                  <th colspan="5" class="text-center">Desplazamiento</th>
                  <th colspan="5" class="text-center">Ordinarias</th>
                  <th colspan="6" class="text-center">Festivas</th>
                  <th></th>
                </tr>
              </thead>
              <thead class="bg-light">
                <tr class="text-center text-uppercase">
                  <th class="align-middle">Item</th>
                  <th class="align-middle">Perfil</th>
                  <th class="align-middle">Tipo Desplaza</th>
                  <th class="align-middle">N. Persona</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Horas</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Hora</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">N. Días</th>
                  <th class="align-middle">Jornada</th>
                  <th class="align-middle">Horas</th>
                  <th class="align-middle">Valor Hora</th>
                  <th class="align-middle">Valor Total</th>
                  <th class="align-middle">Valor Salarial</th>
                  <th class="align-middle">Acc.</th>
                </tr>
              </thead>
              <ng-container formArrayName="mpm_calculate_labor">
                <ng-container
                  *ngFor="
                    let item of mpMCalculateLaborList.controls;
                    let i = index
                  "
                >
                  <ng-container [formGroupName]="i">
                    <tbody>
                      <tr>
                        <td>
                          {{ i + 1 }}
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="apu_profile_id"
                          >
                            <option
                              *ngFor="let item of profiles"
                              [value]="item.id"
                            >
                              {{ item.profile }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="displacement_type"
                          >
                            <option
                              *ngFor="let item of desplazamientos"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="people_number"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_displacement"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="workind_day_displacement"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_displacement"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_ordinary"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="working_day_ordinary"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_ordinary"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="days_number_festive"
                          />
                        </td>
                        <td>
                          <select
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="working_day_festive"
                          >
                            <option
                              *ngFor="let item of jornadas"
                              [value]="item.value"
                            >
                              {{ item.text }}
                            </option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="hours_value_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="total_value_festive"
                          />
                        </td>
                        <td>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            style="width: 100px"
                            formControlName="salary_value"
                          />
                        </td>
                        <td>
                          <div class="btn-group">
                            <button
                              class="btn btn-outline-success btn-sm"
                              placement="top"
                              type="button"
                              ngbTooltip="Est. Viáticos"
                              (click)="mpMcollapsed[i] = !mpMcollapsed[i]"
                              [attr.aria-expanded]="!collapsed"
                              aria-controls="collapseExample2"
                            >
                              <i class="fas fa-eye"></i>
                            </button>
                            <button
                              class="btn btn-outline-danger btn-sm"
                              type="button"
                              (click)="deletempMCalculateLaborList(i)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </button>
                          </div>
                        </td>
                      </tr>
                      <tr *ngIf="mpMcollapsed[i]">
                        <td colspan="21">
                          <div class="rounded-top table-responsive">
                            <table
                              [ngbCollapse]="!mpMcollapsed[i]"
                              class="w-100 table table-bordered table-striped table-sm"
                            >
                              <thead>
                                <tr class="table-primary">
                                  <th class="text-center">Perfil</th>
                                  <th colspan="4" class="text-center">
                                    Viáticos
                                  </th>
                                  <th></th>
                                </tr>
                              </thead>
                              <thead class="bg-light">
                                <tr class="text-center text-uppercase">
                                  <th colspan="2">Descripción</th>
                                  <th>Unidad</th>
                                  <th>Cantidad</th>
                                  <th>Valor Unitario</th>
                                  <th>Valor Total</th>
                                </tr>
                              </thead>
                              <tbody formArrayName="viatic_estimation">
                                <ng-container
                                  *ngFor="
                                    let item of item['controls'][
                                      'viatic_estimation'
                                    ]['controls'];
                                    let j = index
                                  "
                                >
                                  <tr [formGroupName]="j">
                                    <td colspan="2">
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="description"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="unit"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="number"
                                        class="form-control form-control-sm"
                                        formControlName="amount"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="unit_value"
                                      />
                                    </td>
                                    <td>
                                      <input
                                        type="text"
                                        class="form-control form-control-sm"
                                        formControlName="total_value"
                                      />
                                    </td>
                                  </tr>
                                </ng-container>
                              </tbody>
                              <tfoot>
                                <tr>
                                  <td
                                    colspan="5"
                                    class="text-right text-uppercase align-middle"
                                  >
                                    <span><b>Subtotal</b></span>
                                  </td>
                                  <td colspan="6" class="text-center">
                                    <input
                                      type="number"
                                      class="form-control form-control-sm"
                                      formControlName="subtotal"
                                    />
                                  </td>
                                </tr>
                              </tfoot>
                            </table>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </ng-container>
                </ng-container>
              </ng-container>
            </table>
          </div>
        </ng-container>
        <ng-container *ngIf="mpMCalculateLaborList.controls.length">
          <div class="row d-flex justify-content-end">
            <div class="col-md-6">
              <div class="d-flex justify-content-between">
                <div class="rounded-top table-responsive">
                  <table class="table table-hover">
                    <tbody>
                      <tr>
                        <td>SUBTOTAL MANO DE OBRA</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_labor_mpm").value
                              | currency : "" : ""
                          }}
                        </td>
                      </tr>
                      <tr>
                        <td>SUBTOTAL VIÁTICOS</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_travel_expense_mpm").value
                              | currency : "" : ""
                          }}
                        </td>
                      </tr>
                      <tr>
                        <td>SUBTOTAL MONTAJE Y PUESTA EN MARCHA</td>
                        <td class="text-right">
                          ${{
                            this.form.get("subtotal_assembly_commissioning")
                              .value | currency : "" : ""
                          }}
                        </td>
                      </tr>
                      <tr>
                        <td>SUBTOTAL GENERAL VIÁTICOS + MANO DE OBRA</td>
                        <td class="text-right">
                          ${{
                            this.form.get(
                              "general_subtotal_travel_expense_labor"
                            ).value | currency : "" : ""
                          }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <h5 class="text-center">AIU</h5>
        <hr class="line" />
        <div class="d-flex justify-content-center">
          <div class="rounded-top table-responsive">
            <table class="table table-hover">
              <tbody>
                <tr>
                  <td class="col-8">Administrativos</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="administrative_percentage"
                    />
                  </td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="administrative_value"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-8">Imprevistos</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="unforeseen_percentage"
                    />
                  </td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="unforeseen_value"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">Subtotal A + I</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="subtotal_administrative_unforeseen"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">Utilidad</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="utility_percentage"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">SubTotal A + I + U</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="subtotal_administrative_unforeseen_utility"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">
                    Precio venta COP incluye retención
                  </td>
                  <td class="col-2">
                    <input
                      type="number"
                      readonly
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="sale_price_cop_withholding_total"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">TRM</td>
                  <td class="col-2">
                    <input
                      type="number"
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="trm"
                    />
                  </td>
                </tr>
                <tr>
                  <td class="col-10" colspan="2">
                    Precio venta USD incluye retención
                  </td>
                  <td class="col-2">
                    <input
                      type="number"
                      readonly
                      min="0"
                      step=".1"
                      class="form-control form-control-sm"
                      formControlName="sale_price_usd_withholding_total"
                    />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-block btn-primary mb-3" (click)="save()">
      Guardar
    </button>
  </form>
</ng-container>
<ng-template #notData>
  <div class="alert alert-warning text-center" role="alert">
    ¡No hay datos aquí!
  </div>
</ng-template>
<ng-template #notDataL>
  <app-not-data [loading]="loading"></app-not-data>
</ng-template>
