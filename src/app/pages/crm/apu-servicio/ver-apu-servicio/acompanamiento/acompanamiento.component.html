<div class="rounded-top table-responsive">
  <table class="table table-bordered table-striped table-sm small-text">
    <thead>
      <tr class="table-primary text-uppercase">
        <th colspan="4"></th>
        <th colspan="5" class="text-center">Desplazamiento</th>
        <th colspan="5" class="text-center">Ordinarias</th>
        <th colspan="6" class="text-center">Festivas</th>
      </tr>
    </thead>
    <thead class="bg-light">
      <tr class="text-center text-uppercase">
        <th>Item</th>
        <th>Perfil</th>
        <th>Tipo Desplaza</th>
        <th>N. Persona</th>
        <th>N. Días</th>
        <th>Jornada</th>
        <th>Horas</th>
        <th>Valor Horas</th>
        <th>Valor Total</th>
        <th>N. Días</th>
        <th>Jornada</th>
        <th>Horas</th>
        <th>Valor Hora</th>
        <th>Valor Total</th>
        <th>N. Días</th>
        <th>Jornada</th>
        <th>Horas</th>
        <th>Valor Hora</th>
        <th>Valor Total</th>
        <th>Valor Salarial</th>
      </tr>
    </thead>
    <ng-container *ngFor="let item of accompaniments; let i = index">
      <tbody>
        <tr class="text-center text-uppercase">
          <td>{{ i + 1 }}</td>
          <td>{{ item.profiles.profile }}</td>
          <td>{{ getDesplazamiento(item.displacement_type) }}</td>
          <td>{{ item.people_number }}</td>
          <td>{{ item.days_number_displacement }}</td>
          <td>{{ item.workind_day_displacement }}</td>
          <td>{{ item.hours_displacement }}</td>
          <td class="text-right">
            ${{ item.hours_value_displacement | number : "1.2-2" }}
          </td>
          <td class="text-right">
            ${{ item.total_value_displacement | number : "1.2-2" }}
          </td>
          <td>{{ item.days_number_ordinary }}</td>
          <td>{{ item.working_day_ordinary }}</td>
          <td>{{ item.hours_ordinary }}</td>
          <td class="text-right">
            ${{ item.hours_value_ordinary | number : "1.2-2" }}
          </td>
          <td class="text-right">
            ${{ item.total_value_ordinary | number : "1.2-2" }}
          </td>
          <td>{{ item.days_number_festive }}</td>
          <td>{{ item.working_day_festive }}</td>
          <td>{{ item.hours_festive }}</td>
          <td class="text-right">
            ${{ item.hours_value_festive | number : "1.2-2" }}
          </td>
          <td class="text-right">
            ${{ item.total_value_festive | number : "1.2-2" }}
          </td>
          <td class="text-right">
            ${{ item.salary_value | number : "1.2-2" }}
          </td>
        </tr>
      </tbody>
    </ng-container>
  </table>
</div>
<app-list-items
  title1="SUBTOTAL MANO DE OBRA"
  [var1]="subtotal_labor_apm"
  type1="cop"
  mt="mt-2"
></app-list-items>
<h6>Viáticos</h6>
<div class="row">
  <ng-container *ngFor="let item of accompaniments; let i = index">
    <div class="col-md-4">
      <div class="rounded-top table-responsive">
        <table class="table table-bordered table-striped table-sm travel-table">
          <thead>
            <tr class="table-primary text-center text-uppercase">
              <th>Perfil</th>
              <th>{{ item.profiles?.profile }}</th>
              <th colspan="3">Viáticos</th>
            </tr>
          </thead>
          <thead class="bg-light">
            <tr class="text-center text-uppercase">
              <th>Descripción</th>
              <th>Unidad</th>
              <th>Cantidad</th>
              <th>Valor Unitario</th>
              <th>Valor Total</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="text-center text-uppercase"
              *ngFor="
                let itemx of item.travel_estimation_accompaniment;
                let j = index
              "
            >
              <td>{{ itemx.description }}</td>
              <td>{{ itemx.unit }}</td>
              <td>{{ itemx.amount | number }}</td>
              <td class="text-right">
                ${{ itemx.unit_value | number : "1.2-2" }}
              </td>
              <td class="text-right">
                ${{ itemx.total_value | number : "1.2-2" }}
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <th colspan="4" class="text-right text-uppercase">Subtotal</th>
              <th class="text-right">
                ${{ item.subtotal | number : "1.2-2" }}
              </th>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </ng-container>
</div>
<app-list-items
  title1="SUBTOTAL VIÁTICOS"
  [var1]="subtotal_travel_expense_apm"
  type1="cop"
  title2="SUBTOTAL ACOMPAÑAMIENTO"
  [var2]="subtotal_accompaniment"
  type2="cop"
  mt="mt-2"
></app-list-items>
