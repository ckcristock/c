<div class="mb-4" *ngIf="data && !loading">

  <div class="card">
    <div class="card-body">
      <div class="card-title">
        <h4 class="t">PRESUPUESTO DE PROYECTO MAQUINADOS Y MONTAJES</h4>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <!-- HEADER -->
      <div class="row">
        <div class="col-6">
          <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Cliente</label>

            <div class="col-sm-10">
              {{data.customer.name}}
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Destino</label>
            <div class="col-sm-10">
              {{data.destiny.name}}
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Linea</label>
            <div class="col-sm-10">
              {{data.line}}
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">TRM</label>
            <div class="col-sm-10">
              {{data.trm}}
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Proyecto</label>
            <div class="col-sm-10">
              {{data.project}}
            </div>
          </div>
        </div>
      </div>
      <!-- END HEADER -->

      <!-- Configuracion presupuestal -->
      <div class="row mt-2">
        <div class="col-12">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th class="text-center" colspan="3">
                  <h5>% De configuraci√≥n presupuestal</h5>
                </th>
              </tr>
            </thead>
            <tbody class="bg-light">
              <ng-container *ngFor="let item of data.indirect_costs; let i = index">
                <tr>
                  <td> {{item.indirect_cost.name}} </td>
                  <td class="text-right">
                    {{ item.percentage}}
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
      <!--  END  Configuracion presupuestal -->

      <div class="row mb-2">
        <div class="col-12">
          <div class="form-group">
            <label for="staticEmail">Observaciones</label>
            <textarea disabled [value]="data.observation" class="form-control" cols="100%" rows="3"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ITEMS -->

  <app-show-items-presupuesto [data]="data"></app-show-items-presupuesto>


  <div class="col-12 card card-body">
    <table class="table table-sm table-striped">

      <thead>
        <tr>
          <th colspan="2" class="text-center">TOTAL PRESUPUESTO</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>TOTAL COP $ </td>
          <td class="text-right" style="width:90px"> {{data.total_cop | currency:'':''}}</td>
        </tr>
        <tr>
          <td>TOTAL USD $ </td>
          <td class="text-right" style="width:90px"> {{data.total_usd | currency:'':''}}</td>
        </tr>
        <tr>
          <td>V/U VENTA PRORRATEADO COP $ </td>
          <td class="text-right" style="width:90px"> {{data.unit_value_prorrateado_cop | currency:'':''}}</td>
        </tr>
        <tr>
          <td>V/U VENTA PRORRATEADO USD $ </td>
          <td class="text-right" style="width:90px"> {{data.unit_value_prorrateado_usd | currency:'':''}}</td>
        </tr>

      </tbody>
    </table>
  </div>


  <!-- END ITEMS -->
  <!--  -->
  <div class="row">
    <div class="col-6">
      <button class="btn btn-block btn-sm btn-primary">Descargar</button>
    </div>
    <div class="col-6">
      <button class="btn btn-block btn-sm btn-info" (click)="downloadClient()">Descargar Cliente</button>
    </div>
  </div>

</div>


<ng-template #notData>
  <div class="card col-12">
    <div class="card-body">
      <div class=" p-2  text-center">
        <h5 class="text-dark">Sin datos agregados</h5>
      </div>
    </div>
  </div>
</ng-template>