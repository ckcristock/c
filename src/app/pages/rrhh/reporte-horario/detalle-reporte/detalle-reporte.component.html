<div *ngIf="reporteHorarios.length">
  <div *ngFor="let company of reporteHorarios">
    <h4
      class="text-primary text-uppercase font-weight-bold"
      *ngIf="reporteHorarios.length > 1"
    >
      {{ company.name }}
    </h4>
    <div *ngFor="let group of company.groups">
      <h5 class="text-uppercase font-weight-bold text-primary">
        Grupo: <span class="text-secondary">{{ group.name }}</span>
      </h5>
      <div *ngFor="let dependency of group.dependencies">
        <h6 class="font-weight-bold text-center text-uppercase">{{ dependency.name }}</h6>
        <div *ngFor="let person of dependency.people; let i = index">
          <ul class="list-group">
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <img
                src="{{ person.image | image: 'users' }}"
                onerror="this.src='../../../../assets/images/noprofile.png'"
                class="img-thumbnail rounded-circle img-fluid avatar-sm"
              />
              <h6>{{ person.first_name }} {{ person.first_surname }}</h6>
              <button
                class="btn btn-link btn-sm"
                (click)="person.show = !person.show"
              >
                <i class="fas fa-chevron-down"></i>
              </button>
            </li>
          </ul>
          <ng-container *ngIf="person.show">
            <ng-container *ngIf="type == 'Rotativo'; else detalleFijo">
              <app-detalle-horario-rotativo
                [horas]="person.totalHours"
                [horarios]="person.diaries"
              ></app-detalle-horario-rotativo>
            </ng-container>

            <ng-template #detalleFijo>
              <app-detalle-horario
                [horas]="person.totalHours"
                [horarios]="person.diaries"
              ></app-detalle-horario>
            </ng-template>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
